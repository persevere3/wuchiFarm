(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7135558c"],{"09b2":function(t,e,s){},1941:function(t,e,s){},"26e9":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[s("div",{staticClass:"logoLoadingWrap d-flex flex-column\n                justify-content-center align-items-center"},[s("div",{staticClass:"logo bgCover",staticStyle:{"background-image":"url(img/logo.png)"}}),s("div",{staticClass:"loading d-flex justify-content-center align-items-center"},[s("div",{staticClass:"boxone"}),s("div",{staticClass:"boxtwo"})])])])],1)},i=[],n={props:["isLoading"]},c=n,o=(s("bf0c"),s("2877")),r=Object(o["a"])(c,a,i,!1,null,"3be6b206",null);e["a"]=r.exports},"4d83":function(t,e,s){"use strict";var a=s("6167"),i=s.n(a);i.a},5078:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("BaseLogoLoading",{key:t.isLoading,attrs:{isLoading:t.isLoading}}),t.cartsLength?s("div",{staticClass:"container"},[s("ShoppingCartStep",{attrs:{stepActive:t.stepActive}}),s("div",{staticClass:"tableWrap d-flex m-1"},[s("div",{staticClass:"boxone"}),s("div",{staticClass:"boxtwo"}),s("table",[t._m(0),s("tbody",t._l(t.carts.carts,(function(e){return s("tr",{key:e.id,staticClass:"p-1"},[s("td",{staticClass:"pictureTd align-middle text-center",attrs:{width:"90px",height:"90px"}},[s("div",{staticClass:"picture bgCover m-1",style:{backgroundImage:"url("+e.product.imageUrl+")"}})]),s("td",{staticClass:"align-middle text-left bgCover p-1",style:{backgroundImage:"url("+e.product.imageUrl+")"}},[s("div",{staticClass:"name bgCover p-1"},[t._v(t._s(e.product.title))]),e.coupon?s("div",{staticClass:"name text-danger p-1"},[t._v("已套用優惠券")]):t._e()]),s("td",{staticClass:"align-middle text-center"},[t._v(t._s(e.qty))]),s("td",{staticClass:"price align-middle text-right"},[t._v(t._s(t._f("currency")(e.product.price)))]),s("td",{staticClass:"align-middle text-center"},[s("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button",disabled:e.id===t.status.loadingItem},on:{click:function(s){return t.removeCartItem(e.id)}}},[e.id===t.status.loadingItem?s("i",{staticClass:"fas fa-spinner fa-spin"}):s("i",{staticClass:"far fa-trash-alt"})])])])})),0)])]),s("div",{staticClass:"text-right pt-2",class:{lineThrough:t.carts.total!==t.carts.final_total}},[s("h5",[t._v("總計 : "),s("span",[t._v(t._s(t._f("currency")(t.carts.total)))])])]),t.carts.total!==t.carts.final_total?s("div",{staticClass:"text-right pt-1 text-danger"},[s("h5",[t._v("折扣價 : "),s("span",[t._v(t._s(t._f("currency")(t.carts.final_total)))])])]):t._e(),s("div",{staticClass:"input-group mt-2"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入good80，享8折"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("套用優惠碼")])])]),s("div",{staticClass:"d-flex justify-content-center my-2"},[s("button",{staticClass:"btn btn-success px-5",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.routerPush("/customerBase/customerData")}}},[t._v(" 下一步，填寫資料 ")])])],1):s("div",{staticClass:"cartLength0  d-flex justify-content-center"},[s("h5",{staticClass:"py-2 px-3 "},[t._v("購物車目前沒有商品喔!")])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("thead",[s("th",{staticClass:"pictureTd p-2"}),s("th",{staticClass:"name text-left p-2"},[t._v("品名")]),s("th",{staticClass:"text-center p-2",attrs:{width:"50"}},[t._v("數量")]),s("th",{staticClass:"price text-right p-2",attrs:{width:"80"}},[t._v("單價")]),s("th",{staticClass:"text-center p-2",attrs:{width:"50"}},[t._v("移除")])])}],n=(s("99af"),s("26e9")),c=s("96fd"),o={components:{BaseLogoLoading:n["a"],ShoppingCartStep:c["a"]},data:function(){return{carts:{},coupon_code:"",cartsLength:0,stepActive:"cart",isLoading:!1,status:{loadingItem:""}}},methods:{getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart");t.isLoading=!0,this.$http.get(e).then((function(e){t.carts=e.data.data,t.cartsLength=e.data.data.carts.length,t.isLoading=!1}))},removeCartItem:function(t){var e=this;e.status.loadingItem=t;var s="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart/").concat(t);this.$http.delete(s).then((function(){e.getCart(),e.$bus.$emit("getCartEmit"),e.$bus.$emit("messagePush","已從購物車移除"),e.status.loadingItem=""}))},addCouponCode:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/coupon"),s={code:t.coupon_code};t.isLoading=!0,this.$http.post(e,{data:s}).then((function(e){e.data.success?(t.getCart(),t.$bus.$emit("getCartEmit"),t.$bus.$emit("messagePush","已套用優惠券")):t.$bus.$emit("messagePush",e.data.message),t.isLoading=!1}))},routerPush:function(t){this.$router.push("".concat(t))}},created:function(){this.getCart(),this.$bus.$emit("pageActivePush",this.$route.path)}},r=o,l=(s("4d83"),s("2877")),u=Object(l["a"])(r,a,i,!1,null,"7beb9096",null);e["default"]=u.exports},6167:function(t,e,s){},8418:function(t,e,s){"use strict";var a=s("c04e"),i=s("9bf2"),n=s("5c6c");t.exports=function(t,e,s){var c=a(e);c in t?i.f(t,c,n(0,s)):t[c]=s}},"96fd":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"step my-5 d-flex justify-content-center"},[s("ul",{staticClass:"d-flex"},[s("li",{staticClass:"px-2 px-sm-3 d-flex flex-column justify-content-center align-items-center",class:{now:"cart"===t.stepActive}},[s("i",{staticClass:"fas fa-list-ol fa-3x d-flex\n                    justify-content-center align-items-center"}),s("h2",{staticClass:"mt-1"},[t._v("01")]),s("h5",[t._v("確認訂單")])]),s("li",{staticClass:"px-2 px-sm-3 d-flex flex-column justify-content-center align-items-center",class:{now:"data"===t.stepActive}},[s("i",{staticClass:"fas fas fa-digital-tachograph fa-3x\n                    d-flex justify-content-center align-items-center"}),s("h2",{staticClass:"mt-1"},[t._v("02")]),s("h5",[t._v("填寫資料")])]),s("li",{staticClass:"px-2 px-sm-3 d-flex flex-column justify-content-center align-items-center",class:{now:"pay"===t.stepActive}},[s("i",{staticClass:"far fa-money-bill-alt fa-3x d-flex\n                    justify-content-center align-items-center"}),s("h2",{staticClass:"mt-1"},[t._v("03")]),s("h5",[t._v("完成付款")])])])])])},i=[],n={props:["stepActive"]},c=n,o=(s("e50f"),s("2877")),r=Object(o["a"])(c,a,i,!1,null,"1b012b93",null);e["a"]=r.exports},"99af":function(t,e,s){"use strict";var a=s("23e7"),i=s("d039"),n=s("e8b5"),c=s("861d"),o=s("7b0b"),r=s("50c4"),l=s("8418"),u=s("65f0"),d=s("1dde"),p=s("b622"),f=s("60ae"),g=p("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",m=f>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),C=d("concat"),x=function(t){if(!c(t))return!1;var e=t[g];return void 0!==e?!!e:n(t)},b=!m||!C;a({target:"Array",proto:!0,forced:b},{concat:function(t){var e,s,a,i,n,c=o(this),d=u(c,0),p=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?c:arguments[e],x(n)){if(i=r(n.length),p+i>v)throw TypeError(h);for(s=0;s<i;s++,p++)s in n&&l(d,p,n[s])}else{if(p>=v)throw TypeError(h);l(d,p++,n)}return d.length=p,d}})},bf0c:function(t,e,s){"use strict";var a=s("1941"),i=s.n(a);i.a},e50f:function(t,e,s){"use strict";var a=s("09b2"),i=s.n(a);i.a}}]);
//# sourceMappingURL=chunk-7135558c.15f7961d.js.map