(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c3e9d964"],{1941:function(t,e,a){},"26e9":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}},[a("div",{staticClass:"logoLoadingWrap d-flex flex-column\n                justify-content-center align-items-center"},[a("div",{staticClass:"logo bgCover",staticStyle:{"background-image":"url(img/logo.png)"}}),a("div",{staticClass:"loading d-flex justify-content-center align-items-center"},[a("div",{staticClass:"boxone"}),a("div",{staticClass:"boxtwo"})])])])],1)},i=[],n={props:["isLoading"]},c=n,o=(a("bf0c"),a("2877")),r=Object(o["a"])(c,s,i,!1,null,"3be6b206",null);e["a"]=r.exports},5078:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("BaseLogoLoading",{key:t.isLoading,attrs:{isLoading:t.isLoading}}),t.cartsLength?a("div",{staticClass:"container"},[a("ShoppingCartStep",{attrs:{stepActive:t.stepActive}}),a("div",{staticClass:"tableWrap d-flex m-1"},[a("div",{staticClass:"boxone"}),a("div",{staticClass:"boxtwo"}),a("table",[t._m(0),a("tbody",t._l(t.carts.carts,(function(e){return a("tr",{key:e.id,staticClass:"p-1"},[a("td",{staticClass:"pictureTd align-middle text-center",attrs:{width:"90px",height:"90px"}},[a("div",{staticClass:"picture bgCover m-1",style:{backgroundImage:"url("+e.product.imageUrl+")"}})]),a("td",{staticClass:"align-middle text-left bgCover p-1",style:{backgroundImage:"url("+e.product.imageUrl+")"}},[a("div",{staticClass:"name bgCover p-1"},[t._v(t._s(e.product.title))]),e.coupon?a("div",{staticClass:"name text-danger p-1"},[t._v("已套用優惠券")]):t._e()]),a("td",{staticClass:"align-middle text-center"},[t._v(t._s(e.qty))]),a("td",{staticClass:"price align-middle text-right"},[t._v(t._s(t._f("currency")(e.product.price)))]),a("td",{staticClass:"align-middle text-center"},[a("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button",disabled:e.id===t.status.loadingItem},on:{click:function(a){return t.removeCartItem(e.id)}}},[e.id===t.status.loadingItem?a("i",{staticClass:"fas fa-spinner fa-spin"}):a("i",{staticClass:"far fa-trash-alt"})])])])})),0)])]),a("div",{staticClass:"text-right pt-2",class:{lineThrough:t.carts.total!==t.carts.final_total}},[a("h5",[t._v("總計 : "),a("span",[t._v(t._s(t._f("currency")(t.carts.total)))])])]),t.carts.total!==t.carts.final_total?a("div",{staticClass:"text-right pt-1 text-danger"},[a("h5",[t._v("折扣價 : "),a("span",[t._v(t._s(t._f("currency")(t.carts.final_total)))])])]):t._e(),a("div",{staticClass:"input-group mt-2"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入good80，享8折"},domProps:{value:t.coupon_code},on:{input:function(e){e.target.composing||(t.coupon_code=e.target.value)}}}),a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("套用優惠碼")])])]),a("div",{staticClass:"d-flex justify-content-center my-2"},[a("button",{staticClass:"btn btn-success px-5",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.routerPush("/customerBase/customerData")}}},[t._v(" 下一步，填寫資料 ")])])],1):a("div",{staticClass:"cartLength0  d-flex justify-content-center"},[a("h5",{staticClass:"py-2 px-3 "},[t._v("購物車目前沒有商品喔!")])])],1)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("th",{staticClass:"pictureTd p-2"}),a("th",{staticClass:"name text-left p-2"},[t._v("品名")]),a("th",{staticClass:"text-center p-2",attrs:{width:"50"}},[t._v("數量")]),a("th",{staticClass:"price text-right p-2",attrs:{width:"80"}},[t._v("單價")]),a("th",{staticClass:"text-center p-2",attrs:{width:"50"}},[t._v("移除")])])}],n=(a("99af"),a("26e9")),c=a("96fd"),o={components:{BaseLogoLoading:n["a"],ShoppingCartStep:c["a"]},data:function(){return{carts:{},coupon_code:"",cartsLength:0,stepActive:"cart",isLoading:!1,status:{loadingItem:""}}},methods:{getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart");t.isLoading=!0,this.$http.get(e).then((function(e){t.carts=e.data.data,t.cartsLength=e.data.data.carts.length,t.isLoading=!1}))},removeCartItem:function(t){var e=this;e.status.loadingItem=t;var a="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart/").concat(t);this.$http.delete(a).then((function(){e.getCart(),e.$bus.$emit("getCartEmit"),e.$bus.$emit("messagePush","已從購物車移除"),e.status.loadingItem=""}))},addCouponCode:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/coupon"),a={code:t.coupon_code};t.isLoading=!0,this.$http.post(e,{data:a}).then((function(e){e.data.success?(t.getCart(),t.$bus.$emit("getCartEmit"),t.$bus.$emit("messagePush","已套用優惠券")):t.$bus.$emit("messagePush",e.data.message),t.isLoading=!1}))},routerPush:function(t){this.$router.push("".concat(t))}},created:function(){this.getCart(),this.$bus.$emit("pageActivePush",this.$route.path)}},r=o,l=(a("b795"),a("2877")),u=Object(l["a"])(r,s,i,!1,null,"ceeca454",null);e["default"]=u.exports},8418:function(t,e,a){"use strict";var s=a("c04e"),i=a("9bf2"),n=a("5c6c");t.exports=function(t,e,a){var c=s(e);c in t?i.f(t,c,n(0,a)):t[c]=a}},"96fd":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"step my-5 d-flex justify-content-center"},[a("ul",{staticClass:"d-flex"},[a("li",{staticClass:"px-2 px-sm-3 d-flex flex-column justify-content-center align-items-center",class:{now:"cart"===t.stepActive}},[a("i",{staticClass:"fas fa-list-ol fa-3x d-flex\n                    justify-content-center align-items-center"}),a("h2",{staticClass:"mt-1"},[t._v("01")]),a("h5",[t._v("確認訂單")])]),a("li",{staticClass:"px-2 px-sm-3 d-flex flex-column justify-content-center align-items-center",class:{now:"data"===t.stepActive}},[a("i",{staticClass:"fas fas fa-digital-tachograph fa-3x\n                    d-flex justify-content-center align-items-center"}),a("h2",{staticClass:"mt-1"},[t._v("02")]),a("h5",[t._v("填寫資料")])]),a("li",{staticClass:"px-2 px-sm-3 d-flex flex-column justify-content-center align-items-center",class:{now:"pay"===t.stepActive}},[a("i",{staticClass:"far fa-money-bill-alt fa-3x d-flex\n                    justify-content-center align-items-center"}),a("h2",{staticClass:"mt-1"},[t._v("03")]),a("h5",[t._v("完成付款")])])])])])},i=[],n={props:["stepActive"]},c=n,o=(a("c4ae"),a("2877")),r=Object(o["a"])(c,s,i,!1,null,"9ada7786",null);e["a"]=r.exports},"99af":function(t,e,a){"use strict";var s=a("23e7"),i=a("d039"),n=a("e8b5"),c=a("861d"),o=a("7b0b"),r=a("50c4"),l=a("8418"),u=a("65f0"),d=a("1dde"),p=a("b622"),f=a("60ae"),g=p("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",m=f>=51||!i((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),C=d("concat"),x=function(t){if(!c(t))return!1;var e=t[g];return void 0!==e?!!e:n(t)},b=!m||!C;s({target:"Array",proto:!0,forced:b},{concat:function(t){var e,a,s,i,n,c=o(this),d=u(c,0),p=0;for(e=-1,s=arguments.length;e<s;e++)if(n=-1===e?c:arguments[e],x(n)){if(i=r(n.length),p+i>v)throw TypeError(h);for(a=0;a<i;a++,p++)a in n&&l(d,p,n[a])}else{if(p>=v)throw TypeError(h);l(d,p++,n)}return d.length=p,d}})},b795:function(t,e,a){"use strict";var s=a("e1ff"),i=a.n(s);i.a},bf0c:function(t,e,a){"use strict";var s=a("1941"),i=a.n(s);i.a},c4ae:function(t,e,a){"use strict";var s=a("d7e0"),i=a.n(s);i.a},d7e0:function(t,e,a){},e1ff:function(t,e,a){}}]);
//# sourceMappingURL=chunk-c3e9d964.0ad8932a.js.map