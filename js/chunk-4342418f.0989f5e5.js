(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4342418f"],{"09b2":function(t,s,e){},"287e":function(t,s,e){"use strict";var a=e("7751"),i=e.n(a);i.a},4262:function(t,s,e){"use strict";var a=e("553b"),i=e.n(a);i.a},5078:function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t.getCartsLength?e("div",{staticClass:"container"},[e("ShoppingCartStep",{attrs:{stepActive:t.stepActive}}),e("div",{staticClass:"tableWrap d-flex m-1"},[e("div",{staticClass:"boxone"}),e("div",{staticClass:"boxtwo"}),e("table",[t._m(0),e("tbody",t._l(t.carts.carts,(function(s){return e("tr",{key:s.id,staticClass:"p-1"},[e("td",{staticClass:"pictureTd align-middle text-center",attrs:{width:"90px",height:"90px"}},[e("div",{staticClass:"picture bgCover m-1",style:{backgroundImage:"url("+s.product.imageUrl+")"}})]),e("td",{staticClass:"align-middle text-left bgCover p-1",style:{backgroundImage:"url("+s.product.imageUrl+")"}},[e("div",{staticClass:"name bgCover p-2",on:{click:function(e){return e.preventDefault(),t.routerPush("/customerBase/customerProduct/"+s.product.id)}}},[t._v(" "+t._s(s.product.content)+t._s(s.product.title)+" ")]),s.coupon?e("div",{staticClass:"text-danger p-1"},[t._v("已套用優惠券")]):t._e()]),e("td",{staticClass:"align-middle text-center"},[t._v(t._s(s.qty)+" ")]),e("td",{staticClass:"price align-middle text-right"},[t._v(t._s(t._f("currency")(s.product.price)))]),e("td",{staticClass:"align-middle text-center"},[e("button",{staticClass:"btn btn-outline-danger btn-sm",attrs:{type:"button",disabled:s.id===t.getLoadingItem},on:{click:function(e){return t.removeCartItem(s)}}},[s.id===t.getLoadingItem?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"far fa-trash-alt"})])])])})),0)])]),e("div",{staticClass:"text-right pt-2",class:{lineThrough:t.carts.total!==t.carts.final_total}},[e("h5",[t._v("總計 : "),e("span",[t._v(t._s(t._f("currency")(t.carts.total)))])])]),t.carts.total!==t.carts.final_total?e("div",{staticClass:"text-right pt-1 text-danger"},[e("h5",[t._v("折扣價 : "),e("span",[t._v(t._s(t._f("currency")(t.carts.final_total)))])])]):t._e(),e("div",{staticClass:"input-group mt-2"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.coupon_code,expression:"coupon_code"}],staticClass:"form-control",attrs:{type:"text",placeholder:"輸入good80，享8折"},domProps:{value:t.coupon_code},on:{input:function(s){s.target.composing||(t.coupon_code=s.target.value)}}}),e("div",{staticClass:"input-group-append"},[e("button",{staticClass:"btn btn-outline-success",attrs:{type:"button"},on:{click:t.addCouponCode}},[t._v("套用優惠碼")])])]),e("div",{staticClass:"d-flex justify-content-center my-2"},[e("button",{staticClass:"btn btn-success px-5",attrs:{type:"button"},on:{click:function(s){return s.preventDefault(),t.routerPush("/customerBase/customerData")}}},[t._v(" 下一步，填寫資料 ")])])],1):e("div",{staticClass:"cartLength0  d-flex justify-content-center"},[e("h5",{staticClass:"py-2 px-3 "},[t._v("購物車目前沒有商品喔!")])]),e("ProductlistHistory"),e("ProductlistPopular")],1)},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("thead",[e("th",{staticClass:"pictureTd p-2"}),e("th",{staticClass:"name text-left p-2"},[t._v("品名")]),e("th",{staticClass:"text-center p-2",attrs:{width:"50"}},[t._v("數量")]),e("th",{staticClass:"price text-right p-2",attrs:{width:"80"}},[t._v("單價")]),e("th",{staticClass:"text-center p-2",attrs:{width:"50"}},[t._v("移除")])])}],r=(e("99af"),e("96fd")),c=e("bd5b"),n=e("6e38"),o={components:{ShoppingCartStep:r["a"],ProductlistHistory:c["a"],ProductlistPopular:n["a"]},data:function(){return{stepActive:"cart",coupon_code:""}},computed:{isLoading:function(){return this.$store.state.isLoading},carts:function(){return this.$store.state.carts},getCartsLength:function(){return this.$store.state.cartsLength},getLoadingItem:function(){return this.$store.state.loadingItem}},methods:{getCart:function(){this.$store.dispatch("getCart")},removeCartItem:function(t){this.$store.dispatch("removeCartItem",t),this.$store.dispatch("updateMessage",{message:"從購物車刪除",item:t})},addCouponCode:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/coupon"),e={code:t.coupon_code};t.$store.dispatch("updateLoading",!0),this.$http.post(s,{data:e}).then((function(s){s.data.success?(t.getCart(),t.$store.dispatch("updateMessage",{message:"已套用優惠券"})):t.$store.dispatch("updateMessage",{message:s.data.message}),t.$store.dispatch("updateLoading",!1)}))},routerPush:function(t){this.$router.push(t)}},created:function(){this.getCart(),this.$bus.$emit("pageActivePush",this.$route.path)}},u=o,l=(e("287e"),e("2877")),d=Object(l["a"])(u,a,i,!1,null,"2e29f2d6",null);s["default"]=d.exports},"553b":function(t,s,e){},"6e38":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._m(0),e("div",{staticClass:"container mb-3"},[e("div",{staticClass:"row"},t._l(t.products,(function(s,a){return e("div",{key:a,staticClass:"product col-md-6 col-lg-4 my-2"},[e("a",{on:{click:function(e){return e.preventDefault(),t.routerPush("/customerBase/customerProduct/"+s.id)}}},[t._v(" "+t._s(s.content)+" "),e("p",{staticClass:"title text-primary"},[t._v(t._s(s.title))]),e("div",{staticClass:"boxone bgCover ",style:{backgroundImage:"url("+s.imageUrl+")"}}),e("div",{staticClass:"boxtwo bgCover ",style:{backgroundImage:"url("+s.imageUrl+")"}}),e("div",{staticClass:"info py-2 d-flex flex-column"},[e("div",{staticClass:"intro mb-auto"},[t._v(t._s(s.description))]),e("div",{staticClass:"price d-flex justify-content-end align-items-end"},[e("span",{staticClass:"original mr-2 "},[t._v(t._s(t._f("currency")(s.origin_price)))]),e("span",{staticClass:"special text-danger mr-2 "},[t._v(t._s(t._f("currency")(s.price)))])]),e("div",{staticClass:"button d-flex justify-content-end align-items-center"},[e("i",{staticClass:"fas fa-heart fa-2x like mr-2 mt-2",class:{likeActive:t.getIsLike[""+a]},attrs:{"aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),t.updateLikeProducts(s)}}}),e("button",{staticClass:"more btn mr-2 mt-2 btn-outline-success"},[t._v("more")]),e("button",{staticClass:"btn btn-success cart mr-2 mt-2",attrs:{disabled:s.id===t.getLoadingItem},on:{click:function(e){return e.stopPropagation(),t.addToCart(s)}}},[s.id===t.getLoadingItem?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"fas fa-plus "}),t._v(" 購物車 ")])])])])])})),0)])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid mt-3"},[e("ul",{staticClass:"category d-flex justify-content-start"},[e("li",{staticStyle:{"border-left":"2px dotted var(--secondarycolor)"}},[e("a",{staticClass:"px-2 px-md-3 py-md-2 d-flex flex-column flex-md-row\n                   justify-content-center align-items-center"},[e("div",{staticClass:"categoryName d-flex flex-column flex-md-row\n                      justify-content-center align-items-center"},[e("p",{staticClass:"ml-md-1 en"}),e("p",{staticClass:"ml-md-1 "},[t._v("其他人還看了。。。")])])])])])])}],r=(e("99af"),{data:function(){return{products:[],sortProducts:[]}},computed:{getIsLike:function(){var t=[];t=this.$store.state.likeProducts;for(var s=[],e=0;e<this.products.length;e+=1)this.$set(s,e,!1);if(0!==t.length)for(var a=0;a<t.length;a+=1)for(var i=0;i<this.products.length;i+=1)t[a].id===this.products[i].id&&this.$set(s,i,!0);return s},getLoadingItem:function(){return this.$store.state.loadingItem}},methods:{getPopularProducts:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/products/all");this.$http.get(s).then((function(s){t.products=s.data.products;for(var e=0;e<t.products.length;e+=1)t.sortProducts[e]=+t.products[e].unit;for(var a=0;a<t.products.length-1;a+=1)for(var i=0;i<t.products.length-1-a;i+=1)if(t.sortProducts[i]<t.sortProducts[i+1]){var r=t.sortProducts[i];t.sortProducts[i]=t.sortProducts[i+1],t.sortProducts[i+1]=r,r=t.products[i],t.products[i]=t.products[i+1],t.products[i+1]=r}t.products.length=3,t.$store.dispatch("getLikeProducts")}))},updateLikeProducts:function(t){this.$store.dispatch("updateLikeProducts",t)},getCart:function(){this.$store.dispatch("getCart")},addToCart:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addToCart",{item:t,qty:s})},routerPush:function(t){t!==this.$route.path&&this.$router.push(t)}},created:function(){var t=this;this.getPopularProducts(),this.getCart(),this.$bus.$on("getPopularProducts",(function(){t.getPopularProducts()}))}}),c=r,n=(e("4262"),e("2877")),o=Object(n["a"])(c,a,i,!1,null,"f3185ac0",null);s["a"]=o.exports},7751:function(t,s,e){},"96fd":function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("div",{staticClass:"step my-5 d-flex justify-content-center"},[e("ul",{staticClass:"d-flex"},[e("li",{staticClass:"px-2 px-sm-3 d-flex flex-column justify-content-center align-items-center",class:{now:"cart"===t.stepActive}},[e("i",{staticClass:"fas fa-list-ol fa-3x d-flex\n                    justify-content-center align-items-center"}),e("h2",{staticClass:"mt-1"},[t._v("01")]),e("h5",[t._v("確認訂單")])]),e("li",{staticClass:"px-2 px-sm-3 d-flex flex-column justify-content-center align-items-center",class:{now:"data"===t.stepActive}},[e("i",{staticClass:"fas fas fa-digital-tachograph fa-3x\n                    d-flex justify-content-center align-items-center"}),e("h2",{staticClass:"mt-1"},[t._v("02")]),e("h5",[t._v("填寫資料")])]),e("li",{staticClass:"px-2 px-sm-3 d-flex flex-column justify-content-center align-items-center",class:{now:"pay"===t.stepActive}},[e("i",{staticClass:"far fa-money-bill-alt fa-3x d-flex\n                    justify-content-center align-items-center"}),e("h2",{staticClass:"mt-1"},[t._v("03")]),e("h5",[t._v("完成付款")])])])])])},i=[],r={props:["stepActive"]},c=r,n=(e("e50f"),e("2877")),o=Object(n["a"])(c,a,i,!1,null,"1b012b93",null);s["a"]=o.exports},bd5b:function(t,s,e){"use strict";var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._m(0),e("div",{staticClass:"container mb-3"},[e("div",{staticClass:"row"},t._l(t.historyProducts,(function(s,a){return e("div",{directives:[{name:"show",rawName:"v-show",value:a<t.historyProducts.length-1,expression:"key<historyProducts.length-1"}],key:a,staticClass:"product col-md-6 col-lg-4 my-2"},[e("a",{on:{click:function(e){return e.preventDefault(),t.routerPush("/customerBase/customerProduct/"+s.id)}}},[t._v(" "+t._s(s.content)+" "),e("p",{staticClass:"title text-primary"},[t._v(t._s(s.title))]),e("div",{staticClass:"boxone bgCover ",style:{backgroundImage:"url("+s.imageUrl+")"}}),e("div",{staticClass:"boxtwo bgCover ",style:{backgroundImage:"url("+s.imageUrl+")"}}),e("div",{staticClass:"info py-2 d-flex flex-column"},[e("div",{staticClass:"intro mb-auto"},[t._v(t._s(s.description))]),e("div",{staticClass:"price d-flex justify-content-end align-items-end"},[e("span",{staticClass:"original mr-2 "},[t._v(t._s(t._f("currency")(s.origin_price)))]),e("span",{staticClass:"special text-danger mr-2 "},[t._v(t._s(t._f("currency")(s.price)))])]),e("div",{staticClass:"button d-flex justify-content-end align-items-center"},[e("i",{staticClass:"fas fa-heart fa-2x like mr-2 mt-2",class:{likeActive:t.getIsLike[""+a]},attrs:{"aria-hidden":"true"},on:{click:function(e){return e.stopPropagation(),t.updateLikeProducts(s)}}}),e("button",{staticClass:"more btn mr-2 mt-2 btn-outline-success"},[t._v("more")]),e("button",{staticClass:"btn btn-success cart mr-2 mt-2",attrs:{disabled:s.id===t.getLoadingItem},on:{click:function(e){return e.stopPropagation(),t.addToCart(s)}}},[s.id===t.getLoadingItem?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"fas fa-plus "}),t._v(" 購物車 ")])])])])])})),0)])])},i=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid mt-3"},[e("ul",{staticClass:"category d-flex justify-content-start"},[e("li",{staticStyle:{"border-left":"2px dotted var(--secondarycolor)"}},[e("a",{staticClass:"px-2 px-md-3 py-md-2 d-flex flex-column flex-md-row\n                   justify-content-center align-items-center"},[e("div",{staticClass:"categoryName d-flex flex-column flex-md-row\n                      justify-content-center align-items-center"},[e("p",{staticClass:"ml-md-1 en"}),e("p",{staticClass:"ml-md-1 "},[t._v("您剛剛還看了。。。")])])])])])])}],r={data:function(){return{historyProducts:[]}},computed:{getIsLike:function(){var t=[];t=this.$store.state.likeProducts;for(var s=[],e=0;e<this.historyProducts.length;e+=1)this.$set(s,e,!1);if(0!==t.length)for(var a=0;a<t.length;a+=1)for(var i=0;i<this.historyProducts.length;i+=1)t[a].id===this.historyProducts[i].id&&this.$set(s,i,!0);return s},getLoadingItem:function(){return this.$store.state.loadingItem}},methods:{getHistoryProducts:function(){this.historyProducts=JSON.parse(localStorage.getItem("historyProducts"))||[],this.$store.dispatch("getLikeProducts")},updateLikeProducts:function(t){this.$store.dispatch("updateLikeProducts",t)},getCart:function(){this.$store.dispatch("getCart")},addToCart:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.$store.dispatch("addToCart",{item:t,qty:s})},routerPush:function(t){t!==this.$route.path&&this.$router.push(t)}},created:function(){var t=this;this.getHistoryProducts(),this.getCart(),this.$bus.$on("getHistoryProducts",(function(){t.getHistoryProducts()}))}},c=r,n=(e("ee9e"),e("2877")),o=Object(n["a"])(c,a,i,!1,null,"480a1e36",null);s["a"]=o.exports},c9a9:function(t,s,e){},e50f:function(t,s,e){"use strict";var a=e("09b2"),i=e.n(a);i.a},ee9e:function(t,s,e){"use strict";var a=e("c9a9"),i=e.n(a);i.a}}]);
//# sourceMappingURL=chunk-4342418f.0989f5e5.js.map