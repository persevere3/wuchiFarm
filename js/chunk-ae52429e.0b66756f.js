(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ae52429e"],{1941:function(t,s,e){},"26e9":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}},[e("div",{staticClass:"logoLoadingWrap d-flex flex-column\n                justify-content-center align-items-center"},[e("div",{staticClass:"logo bgCover",staticStyle:{"background-image":"url(img/logo.png)"}}),e("div",{staticClass:"loading d-flex justify-content-center align-items-center"},[e("div",{staticClass:"boxone"}),e("div",{staticClass:"boxtwo"})])])])],1)},r=[],a={props:["isLoading"]},o=a,c=(e("bf0c"),e("2877")),n=Object(c["a"])(o,i,r,!1,null,"3be6b206",null);s["a"]=n.exports},"37ce":function(t,s,e){"use strict";var i=e("b98e"),r=e.n(i);r.a},"5f95":function(t,s,e){},"6e38":function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._m(0),e("div",{staticClass:"container mb-3"},[e("div",{staticClass:"row"},t._l(t.products,(function(s,i){return e("div",{key:i,staticClass:"product col-md-6 col-lg-4 my-2"},[e("a",{on:{click:function(e){return e.preventDefault(),t.routerPush("/customerBase/customerProduct/"+s.id)}}},[t._v(" "+t._s(s.content)+" 瀏覽次數: "+t._s(s.unit)+" "),e("p",{staticClass:"title text-primary"},[t._v(t._s(s.title))]),e("div",{staticClass:"boxone bgCover ",style:{backgroundImage:"url("+s.imageUrl+")"}}),e("div",{staticClass:"boxtwo bgCover ",style:{backgroundImage:"url("+s.imageUrl+")"}}),e("div",{staticClass:"info py-2 d-flex flex-column"},[e("div",{staticClass:"intro mb-auto"},[t._v(t._s(s.description))]),e("div",{staticClass:"price d-flex justify-content-end align-items-end"},[e("span",{staticClass:"original mr-2 "},[t._v(t._s(t._f("currency")(s.origin_price)))]),e("span",{staticClass:"special text-danger mr-2 "},[t._v(t._s(t._f("currency")(s.price)))])]),e("div",{staticClass:"button d-flex justify-content-end align-items-center"},[e("i",{staticClass:"fas fa-heart fa-2x like mr-2 mt-2",class:{likeActive:t.isLike[""+i]},attrs:{"aria-hidden":"true"},on:{click:function(s){return s.stopPropagation(),t.updateLikeProducts(i)}}}),e("button",{staticClass:"more btn mr-2 mt-2 btn-outline-success"},[t._v("more")]),e("button",{staticClass:"btn btn-success cart mr-2 mt-2",attrs:{disabled:s.id===t.status.loadingItem},on:{click:function(e){return e.stopPropagation(),t.addtoCart(s.id)}}},[s.id===t.status.loadingItem?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"fas fa-plus "}),t._v(" 加入購物車 ")])])])])])})),0)])])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid mt-3"},[e("ul",{staticClass:"category d-flex justify-content-start"},[e("li",{staticStyle:{"border-left":"2px dotted var(--secondarycolor)"}},[e("a",{staticClass:"px-2 px-md-3 py-md-2 d-flex flex-column flex-md-row\n                   justify-content-center align-items-center"},[e("div",{staticClass:"categoryName d-flex flex-column flex-md-row\n                      justify-content-center align-items-center"},[e("p",{staticClass:"ml-md-1 en"}),e("p",{staticClass:"ml-md-1 "},[t._v("其他人還看了。。。")])])])])])])}],a=(e("99af"),e("a434"),{data:function(){return{products:[],sortProducts:[],carts:[],likeProducts:[],isLike:[],status:{loadingItem:""}}},methods:{getPopularProducts:function(){var t=this,s=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/products/all");this.$http.get(e).then((function(e){s.products=e.data.products;for(var i=0;i<s.products.length;i+=1)s.sortProducts[i]=+s.products[i].unit;for(var r=0;r<s.products.length-1;r+=1)for(var a=0;a<s.products.length-1-r;a+=1)if(s.sortProducts[a]<s.sortProducts[a+1]){var o=s.sortProducts[a];s.sortProducts[a]=s.sortProducts[a+1],s.sortProducts[a+1]=o,o=s.products[a],s.products[a]=s.products[a+1],s.products[a+1]=o}s.products.length=3,s.isLike.length=0;for(var c=0;c<s.products.length;c+=1)t.$set(s.isLike,c,!1);s.likeProducts=JSON.parse(localStorage.getItem("likeProducts"))||[];for(var n=0;n<s.likeProducts.length;n+=1)for(var u=0;u<s.products.length;u+=1)s.likeProducts[n].id===s.products[u].id&&t.$set(s.isLike,u,!0)}))},updateLikeProducts:function(t){if(this.$set(this.isLike,t,!this.isLike[t]),!0===this.isLike[t])this.likeProducts.push(this.products[t]);else for(var s=0;s<this.likeProducts.length;s+=1)this.products[t].id===this.likeProducts[s].id&&this.likeProducts.splice(s,1);localStorage.setItem("likeProducts",JSON.stringify(this.likeProducts)),this.$bus.$emit("getLikeProducts"),this.$bus.$emit("getFilterProducts"),this.$bus.$emit("getHistoryProducts"),this.$bus.$emit("getProduct")},getCart:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart");this.$http.get(s).then((function(s){t.carts=s.data.data}))},addtoCart:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,i=0,r=0,a=0;for(i=0;i<e.carts.carts.length;i+=1)t===e.carts.carts[i].product.id&&(r=e.carts.carts[i].qty,e.removeCartItem(e.carts.carts[i].id));a=s+r;var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart");e.status.loadingItem=t;var c={product_id:t,qty:a};this.$http.post(o,{data:c}).then((function(){e.$bus.$emit("getCartEmit"),e.status.loadingItem="",e.$bus.$emit("messagePush","已加入購物車"),e.getCart(),e.$bus.$emit("getShoppingCart")}))},removeCartItem:function(t){var s=this;s.status.loadingItem=t;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart/").concat(t);this.$http.delete(e).then((function(){s.status.loadingItem=""}))},routerPush:function(t){t!==this.$route.path&&this.$router.push(t)}},created:function(){var t=this;this.getPopularProducts(),this.getCart(),this.$bus.$on("getPopularProducts",(function(){t.getPopularProducts()}))}}),o=a,c=(e("37ce"),e("2877")),n=Object(c["a"])(o,i,r,!1,null,"0f9d9dff",null);s["a"]=n.exports},8418:function(t,s,e){"use strict";var i=e("c04e"),r=e("9bf2"),a=e("5c6c");t.exports=function(t,s,e){var o=i(s);o in t?r.f(t,o,a(0,e)):t[o]=e}},"99af":function(t,s,e){"use strict";var i=e("23e7"),r=e("d039"),a=e("e8b5"),o=e("861d"),c=e("7b0b"),n=e("50c4"),u=e("8418"),l=e("65f0"),d=e("1dde"),h=e("b622"),f=e("60ae"),p=h("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",v=f>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=d("concat"),P=function(t){if(!o(t))return!1;var s=t[p];return void 0!==s?!!s:a(t)},C=!v||!b;i({target:"Array",proto:!0,forced:C},{concat:function(t){var s,e,i,r,a,o=c(this),d=l(o,0),h=0;for(s=-1,i=arguments.length;s<i;s++)if(a=-1===s?o:arguments[s],P(a)){if(r=n(a.length),h+r>g)throw TypeError(m);for(e=0;e<r;e++,h++)e in a&&u(d,h,a[e])}else{if(h>=g)throw TypeError(m);u(d,h++,a)}return d.length=h,d}})},a434:function(t,s,e){"use strict";var i=e("23e7"),r=e("23cb"),a=e("a691"),o=e("50c4"),c=e("7b0b"),n=e("65f0"),u=e("8418"),l=e("1dde"),d=Math.max,h=Math.min,f=9007199254740991,p="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!l("splice")},{splice:function(t,s){var e,i,l,g,m,v,b=c(this),P=o(b.length),C=r(t,P),y=arguments.length;if(0===y?e=i=0:1===y?(e=0,i=P-C):(e=y-2,i=h(d(a(s),0),P-C)),P+e-i>f)throw TypeError(p);for(l=n(b,i),g=0;g<i;g++)m=C+g,m in b&&u(l,g,b[m]);if(l.length=i,e<i){for(g=C;g<P-i;g++)m=g+i,v=g+e,m in b?b[v]=b[m]:delete b[v];for(g=P;g>P-i+e;g--)delete b[g-1]}else if(e>i)for(g=P-i;g>C;g--)m=g+i-1,v=g+e-1,m in b?b[v]=b[m]:delete b[v];for(g=0;g<e;g++)b[g+C]=arguments[g+2];return b.length=P-i+e,l}})},b98e:function(t,s,e){},bd5b:function(t,s,e){"use strict";var i=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[t._m(0),e("div",{staticClass:"container mb-3"},[e("div",{staticClass:"row"},t._l(t.historyProducts,(function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:i<t.historyProducts.length-1,expression:"key<historyProducts.length-1"}],key:i,staticClass:"product col-md-6 col-lg-4 my-2"},[e("a",{on:{click:function(e){return e.preventDefault(),t.routerPush("/customerBase/customerProduct/"+s.id)}}},[t._v(" "+t._s(s.content)+" "),e("p",{staticClass:"title text-primary"},[t._v(t._s(s.title))]),e("div",{staticClass:"boxone bgCover ",style:{backgroundImage:"url("+s.imageUrl+")"}}),e("div",{staticClass:"boxtwo bgCover ",style:{backgroundImage:"url("+s.imageUrl+")"}}),e("div",{staticClass:"info py-2 d-flex flex-column"},[e("div",{staticClass:"intro mb-auto"},[t._v(t._s(s.description))]),e("div",{staticClass:"price d-flex justify-content-end align-items-end"},[e("span",{staticClass:"original mr-2 "},[t._v(t._s(t._f("currency")(s.origin_price)))]),e("span",{staticClass:"special text-danger mr-2 "},[t._v(t._s(t._f("currency")(s.price)))])]),e("div",{staticClass:"button d-flex justify-content-end align-items-center"},[e("i",{staticClass:"fas fa-heart fa-2x like mr-2 mt-2",class:{likeActive:t.isLike[""+i]},attrs:{"aria-hidden":"true"},on:{click:function(s){return s.stopPropagation(),t.updateLikeProducts(i)}}}),e("button",{staticClass:"more btn mr-2 mt-2 btn-outline-success"},[t._v("more")]),e("button",{staticClass:"btn btn-success cart mr-2 mt-2",attrs:{disabled:s.id===t.status.loadingItem},on:{click:function(e){return e.stopPropagation(),t.addtoCart(s.id)}}},[s.id===t.status.loadingItem?e("i",{staticClass:"fas fa-spinner fa-spin"}):e("i",{staticClass:"fas fa-plus "}),t._v(" 加入購物車 ")])])])])])})),0)])])},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"container-fluid mt-3"},[e("ul",{staticClass:"category d-flex justify-content-start"},[e("li",{staticStyle:{"border-left":"2px dotted var(--secondarycolor)"}},[e("a",{staticClass:"px-2 px-md-3 py-md-2 d-flex flex-column flex-md-row\n                   justify-content-center align-items-center"},[e("div",{staticClass:"categoryName d-flex flex-column flex-md-row\n                      justify-content-center align-items-center"},[e("p",{staticClass:"ml-md-1 en"}),e("p",{staticClass:"ml-md-1 "},[t._v("您剛剛還看了。。。")])])])])])])}],a=(e("99af"),e("a434"),{data:function(){return{historyProducts:[],carts:[],likeProducts:[],isLike:[],status:{loadingItem:""}}},methods:{getHistoryProducts:function(){this.historyProducts=JSON.parse(localStorage.getItem("historyProducts"))||[],this.isLike.length=0;for(var t=0;t<this.historyProducts.length;t+=1)this.$set(this.isLike,t,!1);this.likeProducts=JSON.parse(localStorage.getItem("likeProducts"))||[];for(var s=0;s<this.likeProducts.length;s+=1)for(var e=0;e<this.historyProducts.length;e+=1)this.likeProducts[s].id===this.historyProducts[e].id&&this.$set(this.isLike,e,!0)},updateLikeProducts:function(t){if(this.$set(this.isLike,t,!this.isLike[t]),!0===this.isLike[t])this.likeProducts.push(this.historyProducts[t]);else for(var s=0;s<this.likeProducts.length;s+=1)this.historyProducts[t].id===this.likeProducts[s].id&&this.likeProducts.splice(s,1);localStorage.setItem("likeProducts",JSON.stringify(this.likeProducts)),this.$bus.$emit("getLikeProducts"),this.$bus.$emit("getFilterProducts"),this.$bus.$emit("getPopularProducts"),this.$bus.$emit("getProduct")},getCart:function(){var t=this,s="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart");this.$http.get(s).then((function(s){t.carts=s.data.data}))},addtoCart:function(t){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,e=this,i=0,r=0,a=0;for(i=0;i<e.carts.carts.length;i+=1)t===e.carts.carts[i].product.id&&(r=e.carts.carts[i].qty,e.removeCartItem(e.carts.carts[i].id));a=s+r;var o="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart");e.status.loadingItem=t;var c={product_id:t,qty:a};this.$http.post(o,{data:c}).then((function(){e.$bus.$emit("getCartEmit"),e.status.loadingItem="",e.$bus.$emit("messagePush","已加入購物車"),e.getCart(),e.$bus.$emit("getShoppingCart")}))},removeCartItem:function(t){var s=this;s.status.loadingItem=t;var e="".concat("https://vue-course-api.hexschool.io","/api/").concat("perseverepoch","/cart/").concat(t);this.$http.delete(e).then((function(){s.status.loadingItem=""}))},routerPush:function(t){t!==this.$route.path&&this.$router.push(t)}},created:function(){var t=this;this.getHistoryProducts(),this.getCart(),this.$bus.$on("getHistoryProducts",(function(){t.getHistoryProducts()}))}}),o=a,c=(e("d0be"),e("2877")),n=Object(c["a"])(o,i,r,!1,null,"7f8868c6",null);s["a"]=n.exports},bf0c:function(t,s,e){"use strict";var i=e("1941"),r=e.n(i);r.a},d0be:function(t,s,e){"use strict";var i=e("5f95"),r=e.n(i);r.a}}]);
//# sourceMappingURL=chunk-ae52429e.0b66756f.js.map